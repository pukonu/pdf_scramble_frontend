(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},66:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),o=a.n(i),l=(a(38),a(11)),s=a(10),c=a(72),d=a(73),u=a(14),p={fileResponse:{},isFileError:null,isFileLoading:null,arrangement:[]},m=Object(l.b)({fileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;if(t){var a=Object(u.a)({},e);switch(t.type){case"_rx_00_x_001":return a;case"_rx_00_x_002":var n=t.payload,r=n.isFileLoading,i=n.isFileError,o=n.fileResponse;return a.isFileLoading=r,a.isFileError=i,a.fileResponse=o,a;case"_rx_00_x_003":return a.arrangement=t.payload.groupChildren.map(function(e){return e.map(function(e){return parseInt(e.id)})}),a;case"_rx_00_x_004":return a.arrangement=[],a;default:return e}}return e}}),h=a(74),g=a(4),f=a(5),b=a(7),v=a(6),y=a(8),E=a(12),_=a.n(E),k=a(32),w=a(16),L=a.n(w),j="http",x=80,O=80,N="vectorai.postprincipal.com",C="vectorai.postprincipal.com",S={development:"".concat(j,"://").concat(N,":").concat(x,"/api"),production:"".concat(j,"://").concat(C,":").concat(O,"/api")},I=function(e){return{type:"_rx_00_x_003",payload:e}},P=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).onDrop=function(e){var t=L.a.post("".concat(S.development,"/thumbnail-generator/generate"));a.props.rxPushResetArrangement(),a.props.rxLoadFile({fileResponse:null,isFileLoading:!0}),t.attach("pdf_file",e[0]).on("error",function(e){a.props.rxLoadFile({fileResponse:{},isFileLoading:null,isFileError:!0})}).then(function(e){a.props.rxLoadFile({fileResponse:e.body,isFileLoading:!1})})},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(k.a,{accept:"application/pdf",onDrop:this.onDrop},function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return r.a.createElement("div",Object.assign({},t(),{style:F,className:_()("dropzone",{"dropzone--isActive":n})}),r.a.createElement("input",a()),n?r.a.createElement("p",null,"Drop your file here..."):r.a.createElement("p",null,"Vector.ai Drag and drop a file here (PDF files only)"))}))}}]),t}(n.Component),F={width:"100%",height:120,padding:30,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},D=Object(s.b)(function(e){return{rx:e.fileReducer}},{rxLoadFile:function(e){return{type:"_rx_00_x_002",payload:e}},rxPushArrangement:I,rxPushResetArrangement:function(){return{type:"_rx_00_x_004"}}})(P),A=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:_()(a),style:{paddingTop:20}},t)},R=a(23),T=function(e){var t=e.icon;e.text,e.header,e.addButton;return r.a.createElement("div",{className:"col-12 mt100 pb20 div-h-100p d-flex align-content-center justify-content-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"text-center",style:{marginTop:20,marginBottom:20}},r.a.createElement("img",{src:t,alt:"icon",height:100})),r.a.createElement("div",{className:"text-center",style:{marginTop:20,marginBottom:20}},r.a.createElement("div",{className:"font-open-sans fs16 mt10"},"No items found"))))},W=a(13),B=a.n(W),G=function(){return r.a.createElement("div",{className:"p10 br-t"},r.a.createElement("div",{className:"fs24 text-center grey50 pt40 pb40"},r.a.createElement("p",{className:"fs18 mt25"},"Loading...")))},z=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:"list-group-item",dangerouslySetInnerHTML:{__html:this.props.value.label}},"Something")}}]),t}(n.Component),M=(a(62),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={apiEndpoint:null,params:[],isLoading:!0,isListLoading:!1,serverProcessing:!1,placeholder:"search...",data:[],listItems:[],map:{label:"name"},emptyObject:{icon:"/icons/file-folder1.svg",text:"List is empty"},limit:25},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){console.log("component has mounted -  List");var e=null;this.props.apiEndpoint||(e=this.props.data&&this.props.data.length>0?this.props.data.map(this.buildListItems.bind(this)):null),this.setState(Object(u.a)({},this.props,{isLoading:!1,listItems:e})),this.props.serverProcessing&&this.onLookupFromServer("")}},{key:"componentWillReceiveProps",value:function(e){var t=null;this.props.apiEndpoint||(t=e.data&&e.data.length>0?e.data.map(this.buildListItems.bind(this)):null),this.setState(Object(u.a)({},e,{isLoading:!1,listItems:t})),e.serverProcessing&&this.onLookupFromServer("")}},{key:"onItemAction",value:function(e){this.props.onItemAction&&this.props.onItemAction(e)}},{key:"onSearch",value:function(e){if(this.props.onSearch)this.props.onSearch(e);else{var t=e.target.value.toLowerCase();if(!1===this.state.serverProcessing){var a=B.a.without(B.a.map(this.state.data,function(e){return e.label.toLowerCase().indexOf(t)>-1?e:void 0}),void 0);this.setState({listItems:a.map(this.buildListItems)})}else this.onLookupFromServer(t)}}},{key:"buildListItems",value:function(e,t){var a=this.props.itemRenderer;if(a){var n=a;return r.a.createElement(n,Object.assign({},this.props,{key:"key__listItem__".concat(t),value:e,onItemAction:this.onItemAction.bind(this)}))}return r.a.createElement(z,Object.assign({},this.props,{key:"key__listItem__".concat(t),value:e,onItemAction:this.onItemAction.bind(this)}))}},{key:"renderListView",value:function(){return this.state.listItems?this.state.listItems:r.a.createElement(T,this.state.emptyObject)}},{key:"renderIsViewLoading",value:function(){return!1===this.state.isListLoading?r.a.createElement("div",{className:"card-body p-0 wit-list-body pb10",style:{height:"100%",overflowY:"scroll"}},r.a.createElement("ul",{className:"list-group list-group-flush br-t wit-list-content StackedList",style:{height:"100%"}},this.renderListView())):r.a.createElement("div",{className:"card-body p-0"},r.a.createElement(G,null))}},{key:"renderView",value:function(){var e=this.props.listTitle;return!1===this.state.isLoading?r.a.createElement("div",{className:"card wit-list",style:{height:"100%"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title"},r.a.createElement("span",{className:"font-montserrat bold fs14"},e)),this.props.menu),this.renderIsViewLoading()):r.a.createElement(G,null)}},{key:"render",value:function(){return this.renderView()}}]),t}(n.Component)),V=function(e){var t=e.value;return r.a.createElement("div",{id:t.v,style:U,className:_()("StackedListItem--isDraggable")},r.a.createElement("img",{style:{padding:4,paddingBottom:0,width:"100%"},src:"".concat(S.development,"/").concat(t.tilePath,"/tmp-").concat(t.v,".jpg"),alt:"tile ".concat(t.v)}),r.a.createElement("span",{style:{padding:4,paddingTop:0,color:"#555",fontSize:12,fontWeight:"bold"}},"Page: ",t.v))},U={marginLeft:10,marginRight:10,marginTop:10,borderWidth:1,backgroundColor:"#EDEDED",borderColor:"#CCC",cursor:"pointer"},q=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"renderTiles",value:function(){return r.a.createElement(M,{custom:{type:this.props.type},listTitle:this.props.title,itemRenderer:V,data:this.props.pages})}},{key:"render",value:function(){return r.a.createElement("div",{style:this.props.style,className:this.props.className},this.renderTiles())}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(b.a)(this,Object(v.a)(t).call(this,e))).state={isLoading:null,res:{folder_name:"",pdf_document_group:[]},tilePath:"",arrangement:null},a.dragabbleContainer=null,a.sortable=null,a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentWillUpdate",value:function(){try{this.sortable.destroy()}catch(e){}}},{key:"componentDidUpdate",value:function(){this.initializeDragabble()}},{key:"initializeDragabble",value:function(){var e,t=this;if(this.dragabbleContainer=document.querySelectorAll("#MultipleContainers .StackedList"),0===this.dragabbleContainer.length)return!1;this.sortable=new R.Sortable(this.dragabbleContainer,{draggable:".".concat(J.draggable),mirror:{constrainDimensions:!0},plugins:[R.Plugins.ResizeMirror]});return this.sortable.on("drag:stop",function(a){e=a.sourceContainer;for(var n=[],r=0;r<3;r++)n.push(t.sortable.getDraggableElementsForContainer(t.sortable.containers[r]));t.props.rxPushArrangement({groupChildren:n,folderName:t.state.res.folder_name})}),this.sortable.on("sortable:sorted",function(t){e!==t.dragEvent.overContainer&&(e=t.dragEvent.overContainer)}),this.sortable}},{key:"renderTileGroup",value:function(){if(this.props.rx&&!0===this.props.rx.isFileError)return r.a.createElement("div",{style:{marginTop:20},className:"alert alert-danger"},"An error occurred with your upload, file is either not a PDF document, too large or a network failure occurred");if(this.props.rx&&!0===this.props.rx.isFileLoading)return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("em",{className:"text-danger"},"We are processing your data, please wait..."));if(this.props.rx&&!1===this.props.rx.isFileLoading){var e=this.props.rx.fileResponse;return r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("div",{id:"MultipleContainers",className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(q,{style:H.fileGroupBody,className:"StackedListWrapper StackedListWrapper--sizeMedium StackedListWrapper--hasScrollIndicator Container",title:"Group - Alpha",tilePath:e.folder_name,pages:e.pdf_document_group[0].map(function(t){return{v:t,tilePath:e.folder_name}})})),r.a.createElement("div",{className:"col-4"},r.a.createElement(q,{style:H.fileGroupBody,className:"StackedListWrapper StackedListWrapper--sizeMedium StackedListWrapper--hasScrollIndicator Container",title:"Group - Beta",tilePath:e.folder_name,pages:e.pdf_document_group[1].map(function(t){return{v:t,tilePath:e.folder_name}})})),r.a.createElement("div",{className:"col-4"},r.a.createElement(q,{style:H.fileGroupBody,className:"StackedListWrapper StackedListWrapper--sizeMedium StackedListWrapper--hasScrollIndicator Container",title:"Group - Gamma",tilePath:e.folder_name,pages:e.pdf_document_group[2].map(function(t){return{v:t,tilePath:e.folder_name}})}))))}return r.a.createElement("div",null,"\xa0")}},{key:"render",value:function(){return this.renderTileGroup()}}]),t}(n.Component),J={draggable:"StackedListItem--isDraggable",capacity:"draggable-container-parent--capacity"},H={fileGroupBody:{height:700,marginBottom:10}},$=Object(s.b)(function(e){return{rx:e.fileReducer}},{rxPushArrangement:I})(Y),K=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={downloads:null},a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!B.a.isEqual(this.props.rx.arrangement,e.rx.arrangement)||!B.a.isEqual(this.state.downloads,t.downloads)}},{key:"processFile",value:function(){var e=this,t=this.props.rx,a=t.fileResponse,n=t.arrangement;L.a.post("".concat(S.development,"/thumbnail-generator/rearrange")).send({arrangement:n,folderName:a.folder_name}).then(function(t){e.setState({downloads:t.body.downloads})})}},{key:"renderDownloadLinks",value:function(){var e=this.state.downloads;return!!this.props.rx.arrangement.length?e?r.a.createElement("div",null,"Download Files:",e.map(function(e){return r.a.createElement("a",{key:"id__".concat(e.filename),style:{marginLeft:15},href:e.download_link,rel:"noopener noreferrer",target:"_blank",download:"".concat(e.filename,".pdf")},e.filename)})):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.processFile.bind(this)},"Process Update")),r.a.createElement("div",null,"No file(s) to download yet, to download a file process the changes that has been made first, by clicking the ",r.a.createElement("b",null,"Process Update")," button above")):r.a.createElement("div",null,"\xa0")}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:20,marginBottom:30}},this.renderDownloadLinks())}}]),t}(n.Component),Q=Object(s.b)(function(e){return{rx:e.fileReducer}},{rxPushArrangement:I})(K),X=function(e){function t(){return Object(g.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{width:1e3}},r.a.createElement(A,null,"This is a simple multi-page PDF file processor"),r.a.createElement(D,null),r.a.createElement($,null),r.a.createElement(A,null,r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("em",null,"You can rearrange each file by dragging and dropping the thumbs within each group, to other parts of the-same group or to a different group.",r.a.createElement("br",null),r.a.createElement("br",null),"You will see a ",r.a.createElement("b",null,"Process Update")," button after re-arranging the file"))),r.a.createElement(Q,null))}}]),t}(n.Component),Z=a(71),ee=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"navbar navbar-dark bg-dark shadow-sm"},r.a.createElement("div",{className:"container d-flex justify-content-between",style:{width:1e3}},r.a.createElement(Z.a,{to:"/",className:"navbar-brand d-flex align-items-center"},r.a.createElement("strong",null,"vector.ai")))))},te=function(){return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/(|generator|about)",render:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"page-container"},r.a.createElement(ee,null),r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/",component:X}))))}})))},ae=(a(66),function(){var e=Object(l.c)(m);return r.a.createElement(s.a,{store:e},r.a.createElement(c.a,null,r.a.createElement(d.a,{path:"/",component:te})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(68);o.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.94b4c851.chunk.js.map